<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PSYC3361 internship - 3&nbsp; Week 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week4.html" rel="next">
<link href="./Week2.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week3.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">PSYC3361 internship</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Letâ€™s learn to code in R</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week3.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week 5</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#welcome-back-to-coding-in-r" id="toc-welcome-back-to-coding-in-r" class="nav-link active" data-scroll-target="#welcome-back-to-coding-in-r"><span class="header-section-number">4</span> Welcome back to coding in R!</a>
  <ul class="collapse">
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources"><span class="header-section-number">4.1</span> Resources</a></li>
  <li><a href="#learning-outcomes" id="toc-learning-outcomes" class="nav-link" data-scroll-target="#learning-outcomes"><span class="header-section-number">4.2</span> Learning outcomes</a></li>
  <li><a href="#dplyr-dance-with-data" id="toc-dplyr-dance-with-data" class="nav-link" data-scroll-target="#dplyr-dance-with-data"><span class="header-section-number">4.3</span> dplyr, dance with data</a>
  <ul class="collapse">
  <li><a href="#dealing-with-variable-names" id="toc-dealing-with-variable-names" class="nav-link" data-scroll-target="#dealing-with-variable-names"><span class="header-section-number">4.3.1</span> dealing with variable names</a></li>
  <li><a href="#subset-using-filter" id="toc-subset-using-filter" class="nav-link" data-scroll-target="#subset-using-filter"><span class="header-section-number">4.3.2</span> subset using filter()</a></li>
  <li><a href="#sort-using-arrange" id="toc-sort-using-arrange" class="nav-link" data-scroll-target="#sort-using-arrange"><span class="header-section-number">4.3.3</span> sort using <code>arrange()</code></a></li>
  <li><a href="#make-your-data-smaller-using-select" id="toc-make-your-data-smaller-using-select" class="nav-link" data-scroll-target="#make-your-data-smaller-using-select"><span class="header-section-number">4.3.4</span> make your data smaller using <code>select()</code></a></li>
  <li><a href="#make-new-variables-with-mutate" id="toc-make-new-variables-with-mutate" class="nav-link" data-scroll-target="#make-new-variables-with-mutate"><span class="header-section-number">4.3.5</span> make new variables with <code>mutate()</code></a></li>
  <li><a href="#join-data-using-bind_rows" id="toc-join-data-using-bind_rows" class="nav-link" data-scroll-target="#join-data-using-bind_rows"><span class="header-section-number">4.3.6</span> join data using <code>bind_rows()</code></a></li>
  <li><a href="#make-wide-data-long-with-pivot-functions" id="toc-make-wide-data-long-with-pivot-functions" class="nav-link" data-scroll-target="#make-wide-data-long-with-pivot-functions"><span class="header-section-number">4.3.7</span> make wide data long with pivot functions</a></li>
  <li><a href="#joining-data-with-left_join" id="toc-joining-data-with-left_join" class="nav-link" data-scroll-target="#joining-data-with-left_join"><span class="header-section-number">4.3.8</span> joining data with <code>left_join()</code></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Week 3</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="welcome-back-to-coding-in-r" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Welcome back to coding in R!</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://madd.seas.gwu.edu/2021-Fall/class/2-data-wrangling/images/horst_monsters_tidyverse.jpeg" class="img-fluid figure-img" width="500"></p>
<figcaption class="figure-caption">art by Allison Horst</figcaption>
</figure>
</div>
<p>R and RStudio make data cleaning fast and reproducible. The module this week is all about the dplyr package, which has lots of functions that make data wrangling fun! This week, there are a total of 8 videos to watch and each video is 10-15 min long so you can dip in and out across the week. The idea is for you to code along with the videos, stopping and starting and troubleshooting as you go. Try the exercises Danielle recommends AND to see whether you are really getting it, have a go at the SELF TEST challenge.</p>
<p>For this reason, you should allocate ~ 3 hours to your coding this week.</p>
<section id="resources" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="resources"><span class="header-section-number">4.1</span> Resources</h2>
<p><i class="fa-solid fa-file" aria-label="file"></i> <a href="https://slides.djnavarro.net/starting-dplyr/#1">Slides</a></p>
<p><i class="fa-solid fa-cloud" aria-label="cloud"></i> <a href="https://rstudio.cloud/project/1006868">RStudio Cloud project</a></p>
<p><i class="fa-solid fa-video" aria-label="video"></i> <a href="https://www.youtube.com/playlist?list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH">YouTube playlist</a></p>
<p><i class="fa-solid fa-question" aria-label="question"></i> <a href="https://posit.cloud/content/5592952">Self Test challenge</a></p>
</section>
<section id="learning-outcomes" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="learning-outcomes"><span class="header-section-number">4.2</span> Learning outcomes</h2>
<p>By the end of this module you will be able toâ€¦</p>
<ul>
<li>Quickly clean and <code>rename</code> variables</li>
<li>Use <code>filter</code> to look subsets of your dataframe and arrange to order by a given variable</li>
<li>Use <code>select</code> to make your dataframe smaller</li>
<li>Use <code>mutate</code> to create new variables</li>
<li>Join dataframes by row and common columns</li>
<li>Convert data from wide to long and back again using pivot functions</li>
</ul>
</section>
<section id="dplyr-dance-with-data" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="dplyr-dance-with-data"><span class="header-section-number">4.3</span> dplyr, dance with data</h2>
<section id="dealing-with-variable-names" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="dealing-with-variable-names"><span class="header-section-number">4.3.1</span> dealing with variable names</h3>
<p>In this video, Danielle introduces the small world of words dataset and shows you how to deal with variable names.</p>
<p><a href="https://www.youtube.com/watch?v=_LiB4nUKi3o&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=1&amp;t=284s">Video 1</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_LiB4nUKi3o?si=_4CTcscCKyBS_NZl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="subset-using-filter" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="subset-using-filter"><span class="header-section-number">4.3.2</span> subset using filter()</h3>
<p>In this video, Danielle introduces how to subset your dataset using the <code>filter()</code> function.</p>
<p><a href="https://www.youtube.com/watch?v=WWK_VmxM5j8&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=2">Video 2</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/WWK_VmxM5j8?si=bPO_1T-OUrVJWJ7j" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="sort-using-arrange" class="level3" data-number="4.3.3">
<h3 data-number="4.3.3" class="anchored" data-anchor-id="sort-using-arrange"><span class="header-section-number">4.3.3</span> sort using <code>arrange()</code></h3>
<p>In this video, Danielle shows you how to sort your data using the <code>arrange()</code> function.</p>
<p><a href="https://www.youtube.com/watch?v=gPIOWUmpj60&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=3">Video 3</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gPIOWUmpj60?si=X3r15klvvfNpAo_O" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="make-your-data-smaller-using-select" class="level3" data-number="4.3.4">
<h3 data-number="4.3.4" class="anchored" data-anchor-id="make-your-data-smaller-using-select"><span class="header-section-number">4.3.4</span> make your data smaller using <code>select()</code></h3>
<p>In this video, Danielle explains the <code>select()</code> function for selecting columns in a data set.</p>
<p><a href="https://www.youtube.com/watch?v=aI5XNRvEc4c&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=4">Video 4</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/aI5XNRvEc4c?si=GX9WoQJBxk9_ErHB" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="make-new-variables-with-mutate" class="level3" data-number="4.3.5">
<h3 data-number="4.3.5" class="anchored" data-anchor-id="make-new-variables-with-mutate"><span class="header-section-number">4.3.5</span> make new variables with <code>mutate()</code></h3>
<p>In this video, Danielle talks about how to make new variables using the <code>mutate()</code> function, and also a weird digression into measurement issues in psychology.</p>
<p><a href="https://www.youtube.com/watch?v=5VpZgkN7FQA&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=5">Video 5</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5VpZgkN7FQA?si=90wTrWjh1XCczxzX" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="join-data-using-bind_rows" class="level3" data-number="4.3.6">
<h3 data-number="4.3.6" class="anchored" data-anchor-id="join-data-using-bind_rows"><span class="header-section-number">4.3.6</span> join data using <code>bind_rows()</code></h3>
<p>In this video, Danielle provides an introduction to the <code>bind_rows()</code> function in dplyr.</p>
<p><a href="https://www.youtube.com/watch?v=w5H_gK_g9f8&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=6">Video 6</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/w5H_gK_g9f8?si=PjMgmt1YsxnCIWF_" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="make-wide-data-long-with-pivot-functions" class="level3" data-number="4.3.7">
<h3 data-number="4.3.7" class="anchored" data-anchor-id="make-wide-data-long-with-pivot-functions"><span class="header-section-number">4.3.7</span> make wide data long with pivot functions</h3>
<p>In this video, Danielleâ€™s unnecessarily long ramble about <code>pivot_longer()</code> and <code>pivot_wider()</code>, wherein it is obvious that the lecturer is very tired, but also manages to talk a little more about the pipe, order of operations, and other neat things.</p>
<p><a href="https://www.youtube.com/watch?v=Hb3WdbivlkU&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=7">Video 7</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Hb3WdbivlkU?si=x6vySLQDZaH-3pcp" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>
</section>
<section id="joining-data-with-left_join" class="level3" data-number="4.3.8">
<h3 data-number="4.3.8" class="anchored" data-anchor-id="joining-data-with-left_join"><span class="header-section-number">4.3.8</span> joining data with <code>left_join()</code></h3>
<p>In this video, Danielle gives a brief wrap up to the dplyr series, in which <code>left_join()</code> is briefly discussed. She also gets grumpy about sexism in language, and provides pointers to other resources.</p>
<p><a href="https://www.youtube.com/watch?v=mVKxluafTB0&amp;list=PLRPB0ZzEYegNFsivhQWTFvKvpEc504EPH&amp;index=8">Video 8</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/mVKxluafTB0?si=IL4-GkTk0hRRr7R4" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen="">
</iframe>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week2.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Week 2</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week4.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Week 4</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>